From 8283f5c2031d93983916d49dff526d48fdf50258 Mon Sep 17 00:00:00 2001
From: Siu Kwan Lam <1929845+sklam@users.noreply.github.com>
Date: Mon, 15 May 2023 08:37:03 -0500
Subject: [PATCH] Fix #944. Add .argtypes to prevent errors in pypy.

---
 llvmlite/binding/passmanagers.py | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/llvmlite/binding/passmanagers.py b/llvmlite/binding/passmanagers.py
index 4b9daf468..9049ad95e 100644
--- a/llvmlite/binding/passmanagers.py
+++ b/llvmlite/binding/passmanagers.py
@@ -1,4 +1,5 @@
-from ctypes import c_bool, c_char_p, c_int, c_size_t, c_uint, Structure, byref
+from ctypes import (c_bool, c_char_p, c_int, c_size_t, c_uint, Structure, byref,
+                    POINTER)
 from collections import namedtuple
 from enum import IntFlag
 from llvmlite.binding import ffi
@@ -914,3 +915,5 @@ def run_with_remarks(self, function, remarks_format='yaml',
 
 ffi.lib.LLVMPY_AddRefPrunePass.argtypes = [ffi.LLVMPassManagerRef, c_int,
                                            c_size_t]
+
+ffi.lib.LLVMPY_DumpRefPruneStats.argtypes = [POINTER(_c_PruneStats), c_bool]
